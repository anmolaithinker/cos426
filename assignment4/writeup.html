<HTML>
<HEAD>
<TITLE>
COS 426 Assignment 4
</TITLE>
<BODY>
<CENTER>
<H2>
COS 426, Spring 2012<BR>
Miles Wu, mawu<BR>           <!-- Fill in your name and login -->
</H2>                     
</CENTER>
<HR><BR>


<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 
<H2>List of Implemented Features</H2>
<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 

I believe that I have implemented the following features, which are worth a total of 11 points:
<ul>
<li><A href="#firststep"> First step: </A>
<ul>

<li><b>(1) Euler integration</b>
</ul>
</ul>


<ul>
<li><A href="#particlesources"> Particle sources: </A>
<ul>

	<li><b>(1) Sphere particle sources</b>
	<li><b>(1) Circle particle sources</b>

</ul>
</ul>

<!------------------------------------------------------------------------>

<ul>
<li><A href="#particlesinks"> Particle sinks: </A>
<ul>

<li><b>(1) Sphere particle sinks</b>

</ul>
</ul>

<!------------------------------------------------------------------------>

<ul>
<li><A href="#simulation"> Particle simulation: </A>
<ul>

<li><b>(1) Particle lifetimes</b>
</ul>
</ul>

<!------------------------------------------------------------------------>

<ul>
<li><A href="#collisiondetection">Collision detection: </A>

<ul>

<li><b>(2) Particle-scene collisions</b>   

</ul>
</ul>

<ul>
<li><A href="#particleinteraction">Particle interaction: </A>
<ul>

<li><b>(1) Particle attraction</b>
<li><b>(2) Springs</b>


</ul>
</ul>

<ul>
<li><A href="#particlerendering">Particle rendering: </A>
<ul>

<li><b>(1) Dynamic materials</b>

</ul>
</ul>

To generate the output, run "generate-output.sh". You need imagemagick installed.
<br>
I have also added some new command line arguments to particle view. These are:
<ul>
	<li>-videofps fps: Change the framerate of the video and the timestep of the simulation to the fps specified.
	<li>-videoskip n: Only save every 'n' frame
	<li>-nomutualattraction: Turns off mutual attraction as it can be slow
	<li>-nodynamic: Turns off dynamic materials
</ul>


<HR><BR>




<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 
<H2>Demonstration of Implemented Features</H2>
<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 

<!------------------------------------------------------------------------> 
<H3><A name="firststep"> First step  </A></H3>
<!------------------------------------------------------------------------> 

<TABLE>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/particlerace.gif"><IMG  width=256 src="output/particlerace.gif"></A><BR>       
       <A href="input/particlerace.scn">particlerace.scn</A>
    </TD>
    <TD vAlign=top align=middle>
       <A href="output/gravityrace.gif"><IMG width=256  src="output/gravityrace.gif"></A><BR>       
       <A href="input/gravityrace.scn">gravityrace.scn</A>
    </TD>  
    <TD vAlign=top align=middle>
       <A href="output/dragrace.gif"><IMG width=256 src="output/dragrace.gif"></A><BR>       
       <A href="input/dragrace.scn">dragrace.scn</A>
    </TD>
</TR>
</TBODY>
</TABLE>

The left image is just five particles that start with a small upwards initial velocity.
The middle image is the same five particles now with the inclusion of gravity.
The right image is the same five particles now with the inclusion of drag, where each particle has a different drag coefficient.
<hr><br>

<!------------------------------------------------------------------------> 
<H3><A name="particlesources"> Particle sources </A></H3>
<!------------------------------------------------------------------------> 

<TABLE cellSpacing=0 cellPadding=10 border=0>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/sources.gif"><IMG width=256 src="output/sources.gif"></A><BR>       
       <A href="input/sources.scn">sources.scn</A>
    </TD>
 </TR>
</TBODY>
</TABLE>

This shows both sphere and circle sources.
<hr><br>

<!------------------------------------------------------------------------> 
<H3><A name="particlesinks"> Particle sinks </A></H3>
<!------------------------------------------------------------------------> 

<TABLE cellSpacing=0 cellPadding=10 border=0>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/sinks.gif"><IMG width=256 src="output/sinks.gif"></A><BR>       
       <A href="input/sinks.scn">sinks.scn</A>
    </TD>
 </TR>
</TBODY>
</TABLE>


Only the sphere sink was implemented. One tricky thing I encountered was that as the particles get very close to the sink, the force becomes incredibly high and it slingshots past the sink. This is due to the inaccuracies of the Euler integration and I solved it by using much smaller timesteps.
<hr><br>

<!------------------------------------------------------------------------> 
<H3><A name="simulation"> Particle simulation </A></H3>
<!------------------------------------------------------------------------> 


<TABLE>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/particlerace-lifetime.gif"><IMG width=256 src="output/particlerace-lifetime.gif"></A><BR>       
       <A href="input/particlerace-lifetime.scn">particlerace-lifetime.scn</A>
    </TD>
  </TR>
</TBODY>
</TABLE>

This shows the particles having a lifetime. The particles have a lifetime of 1,2,3,4 and 5 seconds going from left to right and as they expire they are deleted.
<HR><BR>

<!------------------------------------------------------------------------> 
<H3><A name="collisiondetection"> Collision detection </A></H3>
<!------------------------------------------------------------------------> 

<TABLE>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/cannonball-collisions.gif"><IMG width=256 src="output/cannonball-collisions.gif"></A><BR>       
       <A href="input/cannonball-collisions.scn">cannonball-collisions.scn</A>
    </TD>
</TR>
</TBODY>
</TABLE>


<!------------------------------------------------------------------------> 
<H3><A name="particleinteraction"> Particle interaction </A></H3>
<!------------------------------------------------------------------------> 

<TABLE>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/opposites.gif"><IMG width=256 src="output/opposites.gif"></A><BR>       
       <A href="input/opposites.scn">opposites.scn</A>
    </TD>
    <TD vAlign=top align=middle>
       <A href="output/rope.gif"><IMG width=256 src="output/rope.gif"></A><BR>       
       <A href="input/rope.scn">rope.scn</A>
    </TD>
</TR>
</TBODY>
</TABLE>

The top image shows collisions by particles coming out of the sphere source and bouncing off the walls. My code can handle multiple collisions in a single timestep and should never go inside an object.
The bottom left image shows two particles doing mutual gravitational attraction.
The bottom right image shows a simulation of a rope using springs.

<HR><BR>



<!------------------------------------------------------------------------> 
<H3><A name="particlerendering"> Particle rendering </A></H3>
<!------------------------------------------------------------------------> 

<TABLE>
<TBODY>
  <TR>
    <TD vAlign=top align=middle>
       <A href="output/sinks-lifetime.gif"><IMG width=256 src="output/sinks-lifetime.gif"></A><BR>       
       <A href="input/sinks-lifetime.scn">sinks-lifetime.scn</A>
    </TD>
</TR>
</TBODY>
</TABLE>

This shows dynamic materials. The color of the particles fade out to nothing during the last 10 seconds of their lifetime.


<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 
<H2>Feedback</H2>
<!------------------------------------------------------------------------> 
<!------------------------------------------------------------------------> 

<DL>
  <DT>How long did you spend on this assignment?
  <DD>5-10 hours.
  <BR>&nbsp;<BR>

  <DT>Was it too hard, too easy, or just right?
  <DD>Too easy.
  <BR>&nbsp;<BR>

  <DT>What was the best part of the assignment?
  <DD>Seeing the rope work
  <BR>&nbsp;<BR>

  <DT>What was the worst part of the assignment?
  <DD>Generating all the animated GIFs
  <BR>&nbsp;<BR>

  <DT>How could it be improved for next year?
  <DD>Not having to do a writeup with animated GIFs.
  <BR>&nbsp;<BR>

</DL>

<HR><BR>



<!------------------------------------------------------------------------> 

</BODY>
</HTML>
